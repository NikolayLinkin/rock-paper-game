(this["webpackJsonprock-paper-game"]=this["webpackJsonprock-paper-game"]||[]).push([[0],{100:function(e,t){},104:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(27),s=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(12),u=n(17),i=n(54),l=n(55),m=n(29);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={finish:!1,canStart:!1,result:null,enemyRate:null,selectedWeapon:null,message:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAME_RESET":return f({},h);case"GAME_START":return f({},e,{finish:!1,result:null,enemyRate:null,playerRate:null});case"GAME_FINISH":return f({},e,{result:t.gameResult,enemyRate:t.enemyRate,playerRate:t.playerRate,canStart:!0,finish:!0});case"GAME_CAN_START":return f({},e,{canStart:!0});case"GAME_CANT_START":return f({},e,{canStart:!1,finish:!0});case"GAME_UPDATE_STATUS":return f({},e,{message:t.message});default:return e}},_=n(59);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={socketId:null,rooms:[],currentRoom:null,userName:null,errStatus:null,errText:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER_ID":return b({},e,{socketId:t.id});case"SAVE_USER_NAME":return b({},e,{userName:t.userName});case"FETCH_ROOMS":return b({},e,{rooms:Object(_.a)(t.rooms)});case"ROOM_JOIN_SUCCESS":return b({},e,{currentRoom:t.currentRoom,userName:t.userName,socketId:t.socketId,errText:"",errStatus:""});case"ROOM_JOIN__ERROR":return b({},e,{errText:t.errText,errStatus:t.errStatus});case"ROOM_LEAVE":return b({},e,{currentRoom:null,socketId:null,userName:null});default:return e}},R=Object(u.combineReducers)({game:v,session:y});n(69),n(70);var O=n(2),N=n(3),S=n(5),j=n(4),g=n(6),w=n(18),k=function(e){var t=e.name,n=e.chooseWeapon,r=e.selectedWeapon;return a.a.createElement("label",{className:"weapons__item"},a.a.createElement("input",{className:"weapons__item__inp",checked:r===t,onChange:function(){return n(t)},type:"radio",name:"weapon",hidden:!0}),a.a.createElement("span",{className:"weapons__item__span weapons__item__span--".concat(t)}),t)},T=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(S.a)(this,Object(j.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=n.state.selectedWeapon,r=n.props.applyChoose;if(!t)return n.setState((function(e){return{error:"\u041d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442"}})),!1;r(t)},n.startNewGame=function(e){e.preventDefault();var t=n.props.startNewGame;n.setState((function(e){return{selectedWeapon:""}})),t()},n.chooseWeapon=function(e){n.setState((function(t){return{selectedWeapon:e}}))},n.timer=null,n.state={selectedWeapon:"",error:""},n}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error,n=e.selectedWeapon,r=this.props.gameFinish;return a.a.createElement("form",{onSubmit:this.handleSubmit},t?a.a.createElement("div",{className:"weapons__error"},t):"",a.a.createElement("div",{className:"weapons"},a.a.createElement(k,{chooseWeapon:this.chooseWeapon,selectedWeapon:n,name:"rock"}),a.a.createElement(k,{chooseWeapon:this.chooseWeapon,selectedWeapon:n,name:"scissors"}),a.a.createElement(k,{chooseWeapon:this.chooseWeapon,selectedWeapon:n,name:"paper"})),r?a.a.createElement("button",{onClick:this.startNewGame,className:"weapons__btn"},"\u041d\u0430\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0438\u0433\u0440\u0443"):a.a.createElement("button",{type:"submit",className:"weapons__btn"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440"))}}]),t}(r.Component),P=n(56),A=n.n(P),W=function(e){var t=e.enemyRate,n=e.playerRate,r=e.gameResult,o=A()({result__finish:!0,"result__finish--win":"win"===r,"result__finish--lose":"lose"===r,"result__finish--draw":"draw"===r});return a.a.createElement("div",{className:"result"},a.a.createElement("div",{className:"result__items"},a.a.createElement("div",{className:"result__item"},a.a.createElement("span",null,"\u0412\u0430\u0448 \u0432\u044b\u0431\u043e\u0440:"),a.a.createElement("div",{className:"result__item__ico result__item__ico--".concat(n)})),a.a.createElement("div",{className:"result__item--vs"},"VS"),a.a.createElement("div",{className:"result__item"},a.a.createElement("span",null,"\u0412\u044b\u0431\u043e\u0440 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430:"),a.a.createElement("div",{className:"result__item__ico result__item__ico--".concat(t)}))),a.a.createElement("div",{className:o},"draw"!==r?"You:":""," ",r))},x=function(e){function t(){return Object(O.a)(this,t),Object(S.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.playPvEGame,n=e.startNewPveGame,r=e.enemyRate,o=e.playerRate,s=e.gameResult,c=e.gameFinish;return a.a.createElement("div",{className:"wrapper"},a.a.createElement("h2",{className:"title"},"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0433\u0440\u044b, \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u0437\u0438\u0446\u0438\u044e:"),a.a.createElement(T,{applyChoose:t,startNewGame:n,gameFinish:c}),c?a.a.createElement(W,{enemyRate:r,playerRate:o,gameResult:s}):"")}}]),t}(r.Component),M=n(7),I=n.n(M),C=n(15),G=["paper","scissors","rock"],D=function(e){var t=G[Math.floor(3*Math.random())];return e===t?{gameResult:"draw",aiRate:t}:"paper"===e&&"rock"===t||"scissors"===e&&"paper"===t||"rock"===e&&"scissors"===t?{gameResult:"win",aiRate:t}:{gameResult:"lose",aiRate:t}},F=n(57),U=n.n(F),V=function(e,t){return new Promise((function(n,r){J||r("No socketApi connection"),J.emit(e,t,(function(e){if("Error"===e.status||e.error){var t={errText:e.error,errStatus:e.status};r(t)}n(e)}))}))},J=null,L=function(e,t){return V("userJoin",{userName:e,roomName:t})},H=function(e){return V("userRate",{rate:e})},B=function(){return function(){var e=Object(C.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GAME_RESET"}),e.next=3,V("playAgain",{});case 3:t({type:"GAME_START"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y=function(e){return e.game.result},$=function(e){return e.game.enemyRate},q=function(e){return e.game.playerRate},z=function(e){return e.game.message},K=function(e){return e.game.finish},Q=function(e){return e.game.canStart},X=function(e){return e.session.rooms},Z=function(e){return e.session.errStatus},ee=function(e){return e.session.errText},te=function(e){return e.session.currentRoom},ne=function(e){return e.session.userName},re=Object(c.b)((function(e){return{enemyRate:$(e),playerRate:q(e),gameResult:Y(e),gameFinish:K(e)}}),{playPvEGame:function(e){return function(t){var n=D(e);t(function(e,t,n){return{type:"GAME_FINISH",gameResult:e,enemyRate:t,playerRate:n}}(n.gameResult,n.aiRate,e))}},startNewPveGame:function(){return function(e){e({type:"GAME_RESET"}),e({type:"GAME_START"})}}})((function(e){return a.a.createElement(x,e)})),ae=function(e){var t=e.rooms,n=e.joinInRoom;return a.a.createElement("div",{className:"rooms"},a.a.createElement("h3",{className:"rooms__title"},"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b:"),t.map((function(e){return a.a.createElement("div",{key:e.id,className:"room-preview",onClick:function(){n(e.name)}},e.name)})))},oe=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(S.a)(this,Object(j.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=n.props.joinInRoom,r=n.userName.current.value,a=n.roomName.current.value;if(!r.length||!a.length)return n.setState((function(e){return{error:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u044b"}})),!1;t(r,a),n.userName.current.value="",n.roomName.current.value=""},n.userName=a.a.createRef(),n.roomName=a.a.createRef(),n.state={error:"",needRoomName:!1},n}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state.error,t=this.props.closePopup;return a.a.createElement("div",{className:"popup"},a.a.createElement("form",{onSubmit:this.handleSubmit},e?a.a.createElement("div",{className:"popup__error"},e):"",a.a.createElement("input",{className:"popup__input",placeholder:"\u0418\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430",ref:this.userName,type:"text"}),a.a.createElement("input",{className:"popup__input",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b",ref:this.roomName,type:"text"}),a.a.createElement("button",{className:"popup__btn"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"),a.a.createElement("button",{onClick:t,className:"popup__btn popup__btn--close"},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(r.Component),se=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(S.a)(this,Object(j.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=n.userName.current.value,r=n.props,a=r.joinInRoom,o=r.login,s=r.closePopup,c=r.chooseRoom;if(!t.length)return n.setState((function(e){return{error:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u044f"}})),!1;c?a(t,c):(o(t),s()),n.userName.current.value=""},n.userName=a.a.createRef(),n.state={error:""},n}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state.error,t=this.props,n=t.closePopup,r=t.errorText;return a.a.createElement("div",{className:"popup"},a.a.createElement("div",{className:"popup__inner"},a.a.createElement("form",{onSubmit:this.handleSubmit},e?a.a.createElement("div",{className:"popup__error"},e):"",r?a.a.createElement("div",{className:"popup__error"},r):"",a.a.createElement("input",{className:"popup__input",placeholder:"\u0418\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430",ref:this.userName,type:"text"}),a.a.createElement("button",{className:"popup__btn"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"),a.a.createElement("button",{className:"popup__btn popup__btn--close",onClick:n},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}}]),t}(r.Component),ce=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(S.a)(this,Object(j.a)(t).call(this,e))).togglePopup=function(e){n.setState((function(t){return{openPopupName:e}}))},n.closePopup=function(){n.togglePopup("none")},n.joinInRoom=function(e){var t=n.props,r=t.joinInRoom,a=t.userName;"Error"===t.sessionErrStatus&&n.togglePopup("login"),a?r(a,e):(n.togglePopup("login"),n.setState((function(t){return{chooseRoom:e}})))},n.state={openPopupName:"",chooseRoom:""},n}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.connectToServer,n=e.fetchRooms;t(),n()}},{key:"shouldComponentUpdate",value:function(e,t,n){var r=e.currentRoom,a=e.userName;return!r||!a||(this.props.history.push("/pvp/rooms/".concat(r)),!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.roomsList,r=t.joinInRoom,o=t.login,s=t.sessionErrText,c=this.state,u=c.openPopupName,i=c.chooseRoom;return a.a.createElement("div",{className:"wrapper"},n.length?a.a.createElement(ae,{rooms:n,joinInRoom:this.joinInRoom}):a.a.createElement("div",{className:"rooms--empty"},"\u041d\u0435\u0442 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0445 \u043a\u043e\u043c\u043d\u0430\u0442"),a.a.createElement("button",{className:"rooms__create-btn",onClick:function(){e.togglePopup("create-room")}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443"),"create-room"===u?a.a.createElement(oe,{joinInRoom:r,closePopup:this.closePopup}):"","login"===u?a.a.createElement(se,{joinInRoom:r,login:o,chooseRoom:i,errorText:s,closePopup:this.closePopup}):"")}}]),t}(r.Component),ue=Object(w.e)(ce),ie="".concat("http://localhost:3005","/api/rooms"),le=function(e,t,n){return{type:"GAME_FINISH",gameResult:e,enemyRate:t,playerRate:n}},me=function(e,t){return{type:"ROOM_JOIN__ERROR",errText:e,errStatus:t}},pe=function(e,t,n){return{type:"ROOM_JOIN_SUCCESS",currentRoom:e,userName:t,socketId:n}},fe=function(e){return function(){var t=Object(C.a)(I.a.mark((function t(n){var r,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e);case 2:r=t.sent,(a=r.error)&&console.log(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},he=Object(c.b)((function(e){return{roomsList:X(e),currentRoom:te(e),userName:ne(e),gameMessage:z(e),sessionErrText:ee(e),sessionErrStatus:Z(e)}}),{connectToServer:function(){return function(){var e=Object(C.a)(I.a.mark((function e(t,n){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J=U.a.connect("http://localhost:3005");case 2:(r=e.sent).on("checkStatus",(function(e){e.canStart?t({type:"GAME_CAN_START"}):(t({type:"GAME_CANT_START"}),t({type:"GAME_RESET"}))})),r.on("getWinner",(function(e){var r=e.winnerId,a=e.rates,o=e.draw,s=n().session.socketId,c=null,u=null;for(var i in a)a.hasOwnProperty(i)&&(i===s?u=a[i]:c=a[i]);t(le(o?"draw":r===s?"win":"lose",c,u))}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},leaveFromServer:function(){return function(){var e=Object(C.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.disconnect(),void(J=null);case 2:t({type:"ROOM_LEAVE",currentRoom:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fetchRooms:function(){return function(){var e=Object(C.a)(I.a.mark((function e(t){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ie,void 0).then((function(e){return e.ok?e.json():Promise.reject(e)}),(function(e){return Promise.reject(e)})).then((function(e){return e||Promise.reject(e)}),(function(e){return{error:e}})).catch((function(e){return{error:e}}));case 2:n=e.sent,r=n.rooms,t({type:"FETCH_ROOMS",rooms:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},joinInRoom:function(e,t){return function(){var n=Object(C.a)(I.a.mark((function n(r){var a,o,s,c;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L(e,t);case 3:a=n.sent,o=a.socketId,r(pe(t,e,o)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),s=n.t0.errText,c=n.t0.errStatus,r(me(s,c));case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},emitRate:fe,startNewGame:B,login:function(e){return{type:"SAVE_USER_NAME",userName:e}}})((function(e){return a.a.createElement(ue,e)})),ve=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(S.a)(this,Object(j.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=n.state.selectedWeapon,r=n.props.applyChoose;if(!t)return n.setState((function(e){return{error:"\u041d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442"}})),!1;n.stopTimer(),r(t)},n.startTimer=function(){n.timer=setInterval((function(){return n.setState({time:n.state.time-1})}),1e3),n.setState((function(e){return{timerStarted:!0}}))},n.resetTimer=function(){n.setState((function(e){return{timerStarted:!1,time:30}}))},n.stopTimer=function(){n.resetTimer(),clearInterval(n.timer)},n.startNewGame=function(e){e.preventDefault();var t=n.props.startNewGame;n.setState((function(e){return{selectedWeapon:""}})),n.resetTimer(),t()},n.chooseWeapon=function(e){n.setState((function(t){return{selectedWeapon:e,error:""}}))},n.timer=null,n.state={selectedWeapon:"",time:30,timerStarted:!1,error:""},n}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.canStart&&!this.state.timerStarted&&this.startTimer()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.canStart,a=n.applyChoose,o=this.state,s=o.time,c=o.timerStarted;if(e.canStart!==r&&r&&!c&&this.startTimer(),0===s){this.stopTimer();a(["rock","paper","scissors"][Math.floor(3*Math.random())])}}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.selectedWeapon,r=e.time,o=this.props,s=o.gameFinish,c=o.canStart;return a.a.createElement("form",{onSubmit:this.handleSubmit},t?a.a.createElement("div",{className:"weapons__error"},t):"",a.a.createElement("div",{className:"weapons"},a.a.createElement(k,{chooseWeapon:this.chooseWeapon,selectedWeapon:n,name:"rock"}),a.a.createElement(k,{chooseWeapon:this.chooseWeapon,selectedWeapon:n,name:"scissors"}),a.a.createElement(k,{chooseWeapon:this.chooseWeapon,selectedWeapon:n,name:"paper"})),a.a.createElement("div",{style:{margin:"50px"}},c?a.a.createElement("div",{className:"timer"},"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0430 \u0432\u044b\u0431\u043e\u0440: ",r):"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"),s&&c?a.a.createElement("button",{onClick:this.startNewGame,className:"weapons__btn"},"\u041d\u0430\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0438\u0433\u0440\u0443"):a.a.createElement("button",{type:"submit",className:"weapons__btn",disabled:!c},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440"))}}]),t}(r.Component);ve.defaultProps={canStart:!0};var _e=ve,de=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(S.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).leave=function(e){e.preventDefault(),n.props.history.push("/pvp")},n}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.currentRoom||this.props.history.push("/pvp")}},{key:"shouldComponentUpdate",value:function(e,t,n){return!!e.currentRoom||(this.props.history.push("/pvp"),!1)}},{key:"componentWillUnmount",value:function(){this.props.leaveFromRoom()}},{key:"render",value:function(){var e=this.props,t=e.emitRate,n=e.gameFinish,r=e.startNewGame,o=e.enemyRate,s=e.playerRate,c=e.gameResult,u=e.canStart,i=e.currentRoom;return a.a.createElement("div",{className:"wrapper"},a.a.createElement("h2",{className:"room__title"},"\u041a\u043e\u043c\u043d\u0430\u0442\u0430 ",i),a.a.createElement("button",{className:"room__leave-btn",onClick:this.leave},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043a\u043e\u043c\u043d\u0430\u0442\u044b"),a.a.createElement(_e,{applyChoose:t,gameFinish:n,startNewGame:r,canStart:u,playerRate:s}),n&&u?a.a.createElement(W,{enemyRate:o,playerRate:s,gameResult:c}):"")}}]),t}(r.Component),be=Object(w.e)(de),Ee=Object(c.b)((function(e){return{enemyRate:$(e),gameFinish:K(e),gameResult:Y(e),currentRoom:te(e),playerRate:q(e),canStart:Q(e)}}),{leaveFromRoom:function(){return function(){var e=Object(C.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("userLeave",{roomName:void 0});case 2:t({type:"ROOM_LEAVE",currentRoom:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},emitRate:fe,startNewGame:B})((function(e){return a.a.createElement(be,e)})),ye=n(16),Re=function(){return a.a.createElement("div",{className:"game-mode__btns"},a.a.createElement(ye.b,{to:"/pve",className:"game-mode__btn game-mode__btn--pve"},"PVE"),a.a.createElement(ye.b,{to:"/pvp",className:"game-mode__btn game-mode__btn--pvp"},"PVP"))},Oe=function(e){function t(){return Object(O.a)(this,t),Object(S.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{exact:!0,path:"/",component:Re}),a.a.createElement(w.a,{exact:!0,path:"/pve",component:re}),a.a.createElement(w.a,{exact:!0,path:"/pvp",component:he}),a.a.createElement(w.a,{exact:!0,path:"/pvp/rooms/:id",component:Ee}))}}]),t}(r.Component),Ne=Object(c.b)((function(e){return{}}),{})((function(e){return a.a.createElement(Oe,e)}));s.a.render(a.a.createElement(c.a,{store:function(e){var t=Object(l.composeWithDevTools)(Object(u.applyMiddleware)(i.a));return Object(u.createStore)(R,e,t)}()},a.a.createElement(ye.a,null,a.a.createElement(Ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,t,n){e.exports=n(104)},70:function(e,t,n){}},[[60,1,2]]]);
//# sourceMappingURL=main.fca2a6ed.chunk.js.map